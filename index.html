<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Visualizer</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            font-family: Arial, sans-serif;
            background-color: #000;
        }
        #controls {
            position: absolute;
            top: 10px;
            left: 10px;
            z-index: 100;
            background: rgba(255, 255, 255, 0.8);
            padding: 10px;
            border-radius: 5px;
	    max-height: 90vh; /* Set maximum height for the control panel */
            overflow-y: auto; /* Enable vertical scrolling */
            width: 250px; /* You can adjust the width if necessary */
        }
        .control-group {
            margin-bottom: 10px;
        }
        canvas {
            display: block;
        }
        #loadingBarContainer {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: none;
        }
        #loadingBar {
            width: 300px;
            height: 10px;
            background-color: #f3f3f3;
            margin-bottom: 5px;
        }
        #loadingBarProgress {
            height: 100%;
            width: 0%;
            background-color: #4caf50;
        }
        #audioCanvas {
            width: 100vw;
            height: 100vh;
        }
    </style>
</head>
<body>
    <div id="controls">
        <div class="control-group">
            <button id="playButton">Play</button>
            <button id="pauseButton">Pause</button>
            <input type="file" id="fileInput" accept="audio/*">
        </div>

	<div class="control-group">
    	    <button id="startRecordingButton">Start Recording</button>
    	    <button id="stopRecordingButton">Stop Recording</button>
	</div>

        <!-- Add this inside the #controls div -->
<div class="control-group">
  <label for="particlesToggle">Particles:</label>
  <input type="checkbox" id="particlesToggle">
</div>

<div class="control-group">
  <label for="particleCount">Particle Count:</label>
  <input type="range" id="particleCount" min="100" max="10000" step="100" value="1000">
</div>

<div class="control-group">
  <label for="particleShape">Particle Shape:</label>
  <select id="particleShape">
    <option value="circle">Circle</option>
    <option value="square">Square</option>
    <option value="triangle">Triangle</option>
    <option value="star">Star</option>
  </select>
</div>

<div class="control-group">
  <label for="particleSize">Particle Size:</label>
  <input type="range" id="particleSize" min="0.1" max="5" step="0.1" value="1">
</div>

<div class="control-group">
  <label for="particleSpeed">Particle Speed:</label>
  <input type="range" id="particleSpeed" min="0.1" max="5" step="0.1" value="1">
</div>

<div class="control-group">
  <label for="particleDirection">Particle Direction:</label>
  <select id="particleDirection">
    <option value="outward">Outward</option>
    <option value="inward">Inward</option>
    <option value="upward">Upward</option>
    <option value="downward">Downward</option>
    <option value="random">Random</option>
  </select>
</div>

<div class="control-group">
  <label for="particleMovement">Particle Movement:</label>
  <select id="particleMovement">
    <option value="linear">Linear</option>
    <option value="circular">Circular</option>
    <option value="spiral">Spiral</option>
  </select>
</div>
        <div class="control-group">
            <label for="geometrySelect">Geometry:</label>
            <select id="geometrySelect">
                <option value="sphere">Sphere</option>
                <option value="cube">Cube</option>
                <option value="torus">Torus</option>
                <option value="plane">Plane</option>
                <option value="icosahedron">Icosahedron</option>
                <option value="octahedron">Octahedron</option>
                <option value="tetrahedron">Tetrahedron</option>
                <option value="dodecahedron">Dodecahedron</option>
                <option value="cylinder">Cylinder</option>
                <option value="cone">Cone</option>
                <option value="pyramid">Pyramid</option>
                <option value="knot">Knot</option>
                <option value="ring">Ring</option>
                <option value="grid">Grid</option>
                <option value="star">Star</option>
                <option value="torusKnot">Torus Knot</option>
                <option value="boxLine">Box Line</option>
                <option value="heart">Heart</option>
                <option value="arrow">Arrow</option>
                <option value="gear">Gear</option>
            </select>
        </div>
        <div class="control-group">
            <label for="geometryCount">Geometry Count:</label>
            <input type="number" id="geometryCount" value="1" min="1" max="50">
        </div>
        <div class="control-group">
            <label for="bgColor">Background Color:</label>
            <input type="color" id="bgColor" value="#000000">
            <select id="bgColorAuto">
                <option value="none">None</option>
                <option value="fade">Fade</option>
                <option value="strobo">Strobo</option>
            </select>
        </div>
        <div class="control-group">
            <label for="geomColor">Geometry Color:</label>
            <input type="color" id="geomColor" value="#ffffff">
            <select id="geomColorAuto">
                <option value="none">None</option>
                <option value="fade">Fade</option>
                <option value="strobo">Strobo</option>
            </select>
        </div>
        <div class="control-group">
            <label for="dynamicsStrength">Dynamics Strength:</label>
            <input type="range" id="dynamicsStrength" value="1" min="0" max="5" step="0.1">
        </div>
        <div class="control-group">
            <label for="dynamicsIntensity">Dynamics Intensity:</label>
            <input type="range" id="dynamicsIntensity" value="1" min="0" max="5" step="0.1">
        </div>

	<div class="control-group">
    		<label for="dynamicAutoToggle">Automate Dynamics:</label>
    		<input type="checkbox" id="dynamicAutoToggle">
	</div>

	<div class="control-group">
    		<label for="positionSensitivity">Position Sensitivity:</label>
                <input type="range" id="positionSensitivity" value="1" min="0.1" max="5" step="0.1">
	</div>

        <div class="control-group">
                <label for="rotationSensitivity">Rotation Sensitivity:</label>
                <input type="range" id="rotationSensitivity" value="1" min="0.1" max="5" step="0.1">
        </div>

        <div class="control-group">
                <label for="scaleSensitivity">Scale Sensitivity:</label>
                <input type="range" id="scaleSensitivity" value="1" min="0.1" max="5" step="0.1">
        </div>

        <div class="control-group">
                <label for="skewSensitivity">Skew Sensitivity:</label>
    	        <input type="range" id="skewSensitivity" value="0.5" min="0.1" max="5" step="0.1">
	</div>

	<div class="control-group">
    		<label for="twistSensitivity">Twist Sensitivity:</label>
    		<input type="range" id="twistSensitivity" value="0.5" min="0.1" max="5" step="0.1">
	</div>

	<div class="control-group">
  		<label for="movementPatternSelect">Movement Pattern:</label>
    		<select id="movementPatternSelect">
        		<option value="oscillation">Oscillation</option>
        		<option value="wave">Wave</option>
        		<option value="spiral">Spiral</option>
			<option value="none">None</option>
    		</select>
	</div>
        <div class="control-group">
            <label for="randomize">Randomize Movement:</label>
            <input type="checkbox" id="randomize">
        </div>
        <div class="control-group">
            <label for="light1Color">Light 1 Color:</label>
            <input type="color" id="light1Color" value="#ffffff">
        </div>
        <div class="control-group">
            <label for="light2Color">Light 2 Color:</label>
            <input type="color" id="light2Color" value="#ffffff">
        </div>
        <div class="control-group">
            <label for="lightRotationSpeed">Light Rotation Speed:</label>
            <input type="range" id="lightRotationSpeed" value="0.1" min="0" max="1" step="0.01">
        </div>
        <div class="control-group">
            <label for="surfaceType">Surface Type:</label>
            <select id="surfaceType">
                <option value="standard">Standard</option>
                <option value="reflective">Reflective</option>
                <option value="transparent">Transparent</option>
                <option value="psychedelic">Psychedelic</option>
                <option value="chrome">Chrome</option>
                <option value="holographic">Holographic</option>
                <option value="fluid">Fluid</option>
            </select>
        </div>
        <div class="control-group">
            <label for="masterEffectStrength">Master Effect Strength:</label>
            <input type="range" id="masterEffectStrength" value="1" min="0" max="5" step="0.1">
        </div>
        <div class="control-group">
            <label for="stroboColor">Strobo Color:</label>
            <input type="color" id="stroboColor" value="#ff00ff">
        </div>

        <!-- Automate Camera Movement -->
        <div class="control-group">
            <label for="automateCamera">Automate Camera:</label>
            <input type="checkbox" id="automateCamera">
        </div>
	
	<div class="control-group">
    		<label for="cameraModeSelect">Camera Mode:</label>
    		<select id="cameraModeSelect">
        	<option value="normal">Normal</option>
        	<option value="fixedRotation">Fixed Rotation</option>
        	<option value="zoomInOut">Zoom In and Out</option>
        	<option value="circularPath">Circular Path</option>
        	<option value="randomJump">Random Jump</option>
        	<option value="spiral">Spiral</option>
    		</select>
	</div>

        <!-- New Controls for Camera Speed and Craziness -->
        <div class="control-group">
            <label for="cameraSpeed">Camera Speed:</label>
            <input type="range" id="cameraSpeed" value="1" min="0.1" max="5" step="0.1">
        </div>
        <div class="control-group">
            <label for="cameraCraziness">Camera Craziness:</label>
            <input type="range" id="cameraCraziness" value="0" min="0" max="1" step="0.1">
        </div>

        <!-- Strobe Effect -->
        <div class="control-group">
            <label for="strobeEffect">Strobe Effect:</label>
            <input type="checkbox" id="strobeEffect">
        </div>

	<!-- New Shader Effects Group -->
	<div class="control-group">
  		<label for="glowEffectToggle">Glow Effect:</label>
  		<input type="checkbox" id="glowEffectToggle">
	</div>

	<div class="control-group">
  		<label for="distortionEffectToggle">Distortion Effect:</label>
  		<input type="checkbox" id="distortionEffectToggle">
	</div>

	<div class="control-group">
  		<label for="chromaticAberrationToggle">Chromatic Aberration:</label>
  		<input type="checkbox" id="chromaticAberrationToggle">
	</div>

	<div class="control-group">
  		<label for="motionBlurToggle">Motion Blur:</label>
  		<input type="checkbox" id="motionBlurToggle">
	</div>

	<div class="control-group">
  		<label for="bloomIntensity">Bloom Intensity:</label>
  		<input type="range" id="bloomIntensity" value="1" min="0" max="5" step="0.1">
	</div>


    </div>

    <canvas id="audioCanvas"></canvas>

    <div id="loadingBarContainer">
        <div id="loadingBar">
            <div id="loadingBarProgress"></div>
        </div>
        <p id="loadingText">Loading...</p>
    </div>

    <!-- Including necessary scripts for Three.js controls and tweening animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/18.6.4/tween.umd.js"></script>
    <script src="visualizer.js"></script>
</body>
</html>
